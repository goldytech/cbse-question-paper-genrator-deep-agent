{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "cbse_question_formats",
  "title": "CBSE Question Format Schema",
  "description": "JSON Schema defining the structure of individual CBSE question objects",
  "type": "object",
  "properties": {
    "question_id": {
      "type": "string",
      "description": "Unique 15-character identifier",
      "pattern": "^MATH-[A-Z]{3}-[A-Z]{3,4}-\\d{3}$",
      "examples": ["MATH-REA-MCQ-001", "MATH-POL-SA-002", "MATH-AP-VSA-005"]
    },
    "question_text": {
      "type": "string",
      "description": "The textual content of the question",
      "minLength": 10,
      "maxLength": 500
    },
    "chapter": {
      "type": "string",
      "description": "CBSE chapter name where this question belongs",
      "enum": [
        "Real Numbers", "Polynomials", "Pair of Linear Equations in Two Variables",
        "Quadratic Equations", "Arithmetic Progressions", "Coordinate Geometry",
        "Triangles", "Circles", "Areas Related to Circles", "Introduction to Trigonometry",
        "Some Applications of Trigonometry", "Surface Areas and Volumes", "Statistics", "Probability"
      ]
    },
    "topic": {
      "type": "string",
      "description": "Specific topic within the chapter",
      "minLength": 5",
      "maxLength": 100
    },
    "question_format": {
      "type": "string",
      "description": "Type of question format",
      "enum": ["MCQ", "VERY_SHORT", "SHORT", "LONG", "CASE_STUDY", "ASSERTION_REASON"]
    },
    "marks": {
      "type": "integer",
      "description": "Marks assigned to this question",
      "enum": [1, 2, 3, 4, 5]
    },
    "options": {
      "type": "array",
      "description": "Options for MCQ format (required for MCQ, null for other formats)",
      "items": {
        "type": "string",
        "maxLength": 100
      },
      "minItems": 0,
      "maxItems": 4,
      "required": false
    },
    "correct_answer": {
      "type": "string",
      "description": "Correct answer key",
      "required": false
    },
    "difficulty": {
      "type": "string",
      "description": "Difficulty level of the question",
      "enum": ["easy", "medium", "hard"],
      "required": true
    },
    "bloom_level": {
      "type": "string",
      "description": "Bloom's taxonomy cognitive level",
      "enum": ["remember", "understand", "apply", "analyze", "evaluate", "create"],
      "required": true
    },
    "tags": {
      "type": "array",
      "description": "Topic and format tags for categorization",
      "items": {
        "type": "string",
        "maxLength": 50
      },
      "required": false
    },
    "sub_questions": {
      "type": "array",
      "description": "Sub-questions for CASE_STUDY format",
      "items": {
        "type": "object",
        "properties": {
          "sub_id": {
            "type": "string",
            "pattern": "^[a-z]\\d{3}$"
          },
          "sub_text": {
            "type": "string"
          },
          "sub_marks": {
            "type": "integer",
            "minimum": 1,
            "maximum": 3
          },
          "correct_answer": {
            "type": "string"
          }
        },
        "required": ["sub_id", "sub_text", "sub_marks", "correct_answer"]
      },
      "required": false
    },
    "ascii_diagram": {
      "type": "string",
      "description": "ASCII art diagram for Science questions (optional)",
      "required": false
    }
  },
  "required": ["question_id", "question_text", "chapter", "topic", "question_format", "marks", "difficulty", "bloom_level", "tags"],
  "additionalProperties": false
}